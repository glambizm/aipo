dojo.require("aipo.widget.MemberNormalSelectList");dojo.provide("aipo.cabinet");aipo.cabinet.onLoadCabinetFileDialog=function(a){var b=dojo.byId("file_title");if(b){b.focus()}};aipo.cabinet.onLoadCabinetFolderDialog=function(b){var f=dojo.byId("folder_name");if(f){f.focus()}var d=dijit.byId("membernormalselect");if(d){var a=dojo.byId("init_memberlist");var e;var c=a.options;if(c.length==1&&c[0].value==""){return}for(e=0;e<c.length;e++){d.addOptionSync(c[e].value,c[e].text,true)}}};aipo.cabinet.onReceiveMessage=function(d){var a=dojo.byId("attachments_select");if(typeof a!="undefined"&&a!=null){a.parentNode.removeChild(a)}if(!d){var b=dijit.byId("modalDialog");if(b){b.hide()}aipo.portletReload("cabinet");aipo.portletReload("schedule");aipo.portletReload("timeline")}if(dojo.byId("messageDiv")){dojo.byId("messageDiv").innerHTML=d}var c=document.getElementById("modalDialog");if(c&&d!=""){var e=document.getElementById("wrapper");e.style.minHeight=c.clientHeight+"px"}};aipo.cabinet.onListReceiveMessage=function(b){if(!b){var a=dijit.byId("modalDialog");if(a){a.hide()}aipo.portletReload("cabinet")}if(dojo.byId("listmessageDiv")){dojo.byId("listmessageDiv").innerHTML=b}};aipo.cabinet.onSubmitSerchButton=function(c,a,e){var d=a;var b=[["sword",c.sword.value]];aipo.viewPage(d,e,b)};aipo.cabinet.viewpageByFolderId=function(a,c,b){a=a+"&folder_id="+b;aipo.viewPage(a,c)};aipo.cabinet.ajaxDeleteSubmit=function(b,a,c,d,e){if(confirm("この"+b.form._name.value+"を削除してよろしいですか？なお、フォルダに含まれるファイルやフォルダはすべて削除されます。")){aimluck.io.disableForm(b.form,true);aimluck.io.setHiddenValue(b);b.form.action=a;aimluck.io.submit(b.form,c,d,e)}};aipo.cabinet.showMember=function(a){dojo.byId("Block-GroupMember-Show").style.display="";dojo.byId("is_member").value="TRUE"};aipo.cabinet.hideMember=function(a){dojo.byId("Block-GroupMember-Show").style.display="none";dojo.byId("member_to").options.length=0;dojo.byId("is_member").value="FALSE"};aipo.cabinet.toggleMenu=function(f,d,b){var e=d.getBoundingClientRect();var c=document.documentElement.getBoundingClientRect();var h=document.getElementById("auiWidgetsArea");var g=document.getElementById("mobileHeader_v3");if(f.style.display=="none"){dojo.query("div.menubar").style("display","none");var a={left:document.documentElement.scrollLeft||document.body.scrollLeft,top:document.documentElement.scrollTop||document.body.scrollTop};f.style.opacity="0";setTimeout(function(){dojo.style(f,"display","block")},0);if(c.right-f.clientWidth>e.left){f.style.left=e.left+a.left+"px"}else{f.style.left=e.right-f.clientWidth+a.left+"px"}if(c.bottom-f.clientHeight>e.bottom||b){f.style.top=e.bottom+a.top+"px"}else{f.style.top=e.top-f.clientHeight+a.top+"px"}f.style.opacity=""}else{dojo.query("div.menubar").style("display","none")}};aipo.cabinet.onChangeFolder=function(b,c,a){aipo.viewPage(b,c)};aipo.cabinet.onChangeGroup=function(a,c,b){aipo.viewPage(a,c)};