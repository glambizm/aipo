dojo.provide("aipo.activity");aipo.activity.setListSize=function(){if(dojo.isIE){dojo.query(".activityList li").forEach(function(a){a.style.width="394px"})}};aipo.activity.toggleMenu=function(d,c,b){var a=c.getBoundingClientRect();var f=document.documentElement.getBoundingClientRect();if(d.style.display=="none"){dojo.query("div.menubar").style("display","none");var e={left:document.documentElement.scrollLeft||document.body.scrollLeft,top:document.documentElement.scrollTop||document.body.scrollTop};d.style.opacity="0";setTimeout(function(){dojo.style(d,"display","block")},0);if(f.right-d.clientWidth>a.left){d.style.left=a.left+e.left+"px"}else{d.style.left=a.right-d.clientWidth+e.left+"px"}if(f.bottom-d.clientHeight>a.bottom||b){d.style.top=a.bottom+e.top+"px"}else{d.style.top=a.top-d.clientHeight+e.top+"px"}d.style.opacity=""}else{dojo.query("div.menubar").style("display","none")}};aipo.activity.initFilterSearch=function(b){var c=dojo.byId("q"+b);var a=dojo.byId("filters_"+b);if(a&&c){var e=a.offsetWidth;if(aipo.userAgent.isAndroid4_0()){var f=dojo.query("div.filterInputField")[0];var d=parseInt(dojo.getComputedStyle(c).width);f.style.left=e+"px";a.style.left=-e+"px";c.style.width=d-e+"px";f.style.width=d-e+"px";c.style.paddingLeft="2px"}else{if(e!=0){c.style.paddingLeft=e+"px"}}}};aipo.activity.finFilterSearch=function(b){if(aipo.userAgent.isAndroid4_0()){var c=dojo.byId("q"+b);var a=dojo.byId("filters_"+b);if(a&&c){var e=a.offsetWidth;var f=dojo.query("div.filterInputField")[0];var d=parseInt(dojo.getComputedStyle(c).width);f.style.left="0px";a.style.left="0px";c.style.width=d+e+"px";f.style.width=d+e+"px";c.style.paddingLeft=e+2+"px"}}};aipo.activity.filterSetDefault=function(c,b){var a=dojo.query("ul.filtertype[data-type="+b+"]")[0];var e=a.getAttribute("data-defaultparam");var d=dojo.query("li[data-param="+e+"]",a);aipo.activity.filterSelect(a,d);aipo.activity.filteredSearch(c)};aipo.activity.filterSelect=function(b,a){dojo.query("li",b).removeClass("selected");dojo.query(a).addClass("selected")};aipo.activity.filterClick=function(b,c,a){var e=c.parentNode;var f=e.parentNode;var d=e.getAttribute("data-param");aipo.activity.filterSelect(f,e);aipo.activity.filteredSearch(b)};aipo.activity.filteredSearch=function(b){var f=dojo.byId("baseuri_"+b).value;var a=[];var d=[];dojo.query("ul.filtertype_"+b).forEach(function(j){var g=j.getAttribute("data-type");a.push(g);var i=dojo.query("li.selected",j)[0];if(i){var h=i.getAttribute("data-param");d.push(h)}else{d.push(j.getAttribute("data-defaultparam"))}});var c=dojo.byId("q"+b);var e=[["filter",d.join(",")],["filtertype",a.join(",")],["keyword",c?c.value:""]];aipo.viewPage(f,b,e)};aipo.activity.filterClick=function(b,c,a){var e=c.parentNode;var f=e.parentNode;var d=e.getAttribute("data-param");aipo.activity.filterSelect(f,e);aipo.activity.filteredSearch(b)};aipo.activity.setPostFilter=function(e,g,c,h){var f=[];var b=[];f.push(c);b.push(g);dojo.query("ul.filtertype_"+h).forEach(function(l){var i=l.getAttribute("data-type");f.push(i);var k=dojo.query("li.selected",l)[0];if(k){var j=k.getAttribute("data-param");b.push(j)}else{b.push(l.getAttribute("data-defaultparam"))}});var a=dojo.byId("q"+h);var d=[["filter",b.join(",")],["filtertype",f.join(",")],["keyword",a?a.value:""]];aipo.viewPage(e,h,d)};aipo.activity.reminderoff=function(){dojo.byId("remindernotifytype").style.display="none";dojo.byId("remindernotifytiming").style.display="none";aipo.activity.setWrapperHeight()};aipo.activity.reminderon=function(){dojo.byId("remindernotifytype").style.display="";dojo.byId("remindernotifytiming").style.display="";aipo.activity.setWrapperHeight()};aipo.activity.setWrapperHeight=function(){var a=document.getElementById("modalDialog");if(a){var b=document.getElementById("wrapper");b.style.minHeight=a.clientHeight+"px"}};