dojo.provide("aipo.account_user");dojo.require("aipo.widget.GroupNormalSelectList");aipo.account_user.onLoadUserDialog=function(c){var b=dijit.byId("groupnormalselect");if(b){var e=dojo.byId("init_grouplist");var a;var f=e.options;if(f.length==1&&f[0].value==""){return}for(a=0;a<f.length;a++){b.addOptionSync(f[a].value,f[a].text,true)}}var d=dojo.byId("username");if(d&&d.type=="text"){d.focus()}};aipo.account_user.formSwitchPostInput=function(b){var a=dojo.i18n.getLocalization("aipo","locale");if(b.form.is_new_post.value=="TRUE"||b.form.is_new_post.value=="true"){b.value=a.NEW_INPUT_STR;aipo.account_user.formPostInputOff(b.form)}else{b.value=a.SELECT_FROM_LIST_STR;aipo.account_user.formPostInputOn(b.form)}};aipo.account_user.formPostInputOn=function(a){dojo.byId("postSelectField").style.display="none";dojo.byId("postInputField").style.display="";a.is_new_post.value="TRUE"};aipo.account_user.formPostInputOff=function(a){dojo.byId("postInputField").style.display="none";dojo.byId("postSelectField").style.display="";a.is_new_post.value="FALSE"};aipo.account_user.formSwitchPositionInput=function(b){var a=dojo.i18n.getLocalization("aipo","locale");if(b.form.is_new_position.value=="TRUE"||b.form.is_new_position.value=="true"){b.value=a.NEW_INPUT_STR;aipo.account_user.formPositionInputOff(b.form)}else{b.value=a.SELECT_FROM_LIST_STR;aipo.account_user.formPositionInputOn(b.form)}};aipo.account_user.formPositionInputOn=function(a){dojo.byId("positionSelectField").style.display="none";dojo.byId("positionInputField").style.display="";a.is_new_position.value="TRUE"};aipo.account_user.formPositionInputOff=function(a){dojo.byId("positionInputField").style.display="none";dojo.byId("positionSelectField").style.display="";a.is_new_position.value="FALSE"};aipo.account_user.formAdminToggle=function(a){dojo.byId("is_admin").value=a.checked?"true":"false"};aipo.account_user.onReceiveMessage=function(a){var b=dojo.byId("attachments_select");if(typeof b!="undefined"&&b!=null){b.parentNode.removeChild(b)}if(!a){var c=dijit.byId("modalDialog");if(c){c.hide()}aipo.portletReload("account_user")}if(dojo.byId("messageDiv")){dojo.byId("messageDiv").innerHTML=a}};aipo.account_user.onListReceiveMessage=function(b){if(!b){var a=dijit.byId("modalDialog");if(a){a.hide()}aipo.portletReload("account_user")}if(dojo.byId("listMessageDiv")){dojo.byId("listMessageDiv").innerHTML=b}};aipo.account_user.submit2=function(a){var b=a.member_so.options;var c="";for(i=0;i<b.length;i++){b[i].selected=false}if(b.length>0){for(i=0;i<b.length-1;i++){c=c+b[i].value+","}c=c+b[b.length-1].value}a.positions.value=c};aipo.account_user.toggleMenu=function(h,f,d){var g=f.getBoundingClientRect();var e=document.documentElement.getBoundingClientRect();var b=document.getElementById("auiWidgetsArea");var a=document.getElementById("mobileHeader_v3");if(h.style.display=="none"){dojo.query("div.menubar").style("display","none");var c={left:document.documentElement.scrollLeft||document.body.scrollLeft,top:document.documentElement.scrollTop||document.body.scrollTop};h.style.opacity="0";setTimeout(function(){dojo.style(h,"display","block")},0);if(e.right-h.clientWidth>g.left){h.style.left=g.left+c.left+"px"}else{h.style.left=g.right-h.clientWidth+c.left+"px"}if(e.bottom-h.clientHeight>g.bottom||d){h.style.top=g.bottom+c.top+"px"}else{h.style.top=g.top-h.clientHeight+c.top+"px"}h.style.opacity=""}else{dojo.query("div.menubar").style("display","none")}};aipo.account_user.onChangePost=function(c,a,b){aipo.viewPage(c,a)};aipo.account_user.onChangeRole=function(b,a,c){aipo.viewPage(b,a)};aipo.account_user.downloadCsv=function(a){window.location.href=a};