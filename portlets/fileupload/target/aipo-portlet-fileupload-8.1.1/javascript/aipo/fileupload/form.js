dojo.provide("aipo.fileupload");aipo.fileupload.getFolderName=function(){var a=dojo.byId("folderName")};aipo.fileupload.onAddFileInfo=function(a,g,c,b){var d=dojo.byId("attachments_"+b);if(d.nodeName.toLowerCase()=="ul"){aimluck.io.addFileToList(d,g,c)}else{aimluck.io.addOption(d,g,c,false)}dojo.byId("folderName_"+b).value=a;var e=document.getElementById("modalDialog");if(e){var f=document.getElementById("wrapper");f.style.minHeight=e.clientHeight+"px"}};aipo.fileupload.replaceFileInfo=function(a,e,c,b){var d=dojo.byId("attachments_"+b);if(d.nodeName.toLowerCase()=="ul"){aimluck.io.replaceFileToList(d,e,c)}else{aimluck.io.addOption(d,e,c,false)}dojo.byId("folderName_"+b).value=a};aipo.fileupload.openAttachment=function(a,f){var e=430;var d=130;var i=(screen.width-e)/2;var h=(screen.height-d)/2;var g=dojo.byId("attachments_"+f);if(g.nodeName.toLowerCase()=="ul"){var j=g.children.length}else{var j=g.options.length;if(j==1&&g.options[0].value==""){j=0}}var c=dojo.byId("folderName_"+f).value;var b=window.open(a+"&nsize="+j+"&folderName="+c,"attachment_window","left="+i+",top="+h+",width="+e+",height="+d+",resizable=yes,status=yes");b.focus()};aipo.fileupload.ImageDialog;aipo.fileupload.showImageDialog=function(a,c,d){var b=dojo.byId("imageDialog");aipo.fileupload.ImageDialog=dijit.byId("imageDialog");dojo.query(".auiPopup:not(.imgPopup)").addClass("mb_dialoghide");dojo.query("#imageDialog").addClass("mb_dialog");if(!aipo.fileupload.ImageDialog){aipo.fileupload.ImageDialog=new aipo.fileupload.widget.FileuploadViewDialog({widgetId:"imageDialog",_portlet_id:c,_callback:d},"imageDialog")}else{aipo.fileupload.ImageDialog.setCallback(c,d)}if(aipo.fileupload.ImageDialog){aipo.fileupload.ImageDialog.setHref(a);aipo.fileupload.ImageDialog.show()}};aipo.fileupload.hideImageDialog=function(){var a=dijit.byId("imageDialog");if(a){a.hide();var b=dojo.byId("imageDialog");if(b){b.style.height="";b.style.width=""}}};aipo.fileupload.onLoadImage=function(b){dojo.style(b,"display","");dojo.query(".indicatorDialog").style("display","none");var a=dojo.byId("imageDialog");if(dojo.style(b,"max-width")){a.style.width=Math.min(b.width,dojo.style(b,"max-width"))+"px"}else{a.style.width=b.width+"px"}if(dojo.style(b,"max-height")){a.style["min-height"]=Math.min(b.height,dojo.style(b,"max-height"))+"px"}else{a.style["min-height"]=b.height+"px"}aipo.fileupload.ImageDialog._position()};aipo.fileupload.removeFileFromList=function(c,a,b){dojo.style("facephoto_"+b,"display","none");return c.removeChild(a)};aipo.fileupload.YoutubeDialog;aipo.fileupload.showYoutubeDialog=function(a,b,c,d){if(!aipo.fileupload.YoutubeDialog){aipo.fileupload.YoutubeDialog=new aipo.fileupload.widget.YoutubeDialog({widgetId:"YoutubeDialog",_portlet_id:c,_callback:d},"YoutubeDialog")}else{aipo.fileupload.YoutubeDialog.setCallback(c,d)}if(aipo.fileupload.YoutubeDialog){aipo.fileupload.YoutubeDialog.setHref(b);aipo.fileupload.YoutubeDialog.show()}};aipo.fileupload.hideYoutubeDialog=function(){var a=dijit.byId("aipo_fileupload_widget_YoutubeDialog_0");if(a){a.hide()}};aipo.fileupload.onLoadYoutube=function(b){var a=dojo.byId("aipo_fileupload_widget_YoutubeDialog_0");a.style.width=b.width+"px";aipo.fileupload.YoutubeDialog._position();dojo.query("#youtubeDialog").removeClass("preLoadImage")};