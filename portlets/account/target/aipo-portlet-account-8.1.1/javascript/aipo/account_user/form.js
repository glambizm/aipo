dojo.provide("aipo.account_user");dojo.require("aipo.widget.GroupNormalSelectList");aipo.account_user.onLoadUserDialog=function(e){var d=dijit.byId("groupnormalselect");if(d){var a=dojo.byId("init_grouplist");var c;var b=a.options;if(b.length==1&&b[0].value==""){return}for(c=0;c<b.length;c++){d.addOptionSync(b[c].value,b[c].text,true)}}var f=dojo.byId("username");if(f&&f.type=="text"){f.focus()}};aipo.account_user.formSwitchPostInput=function(b){var a=dojo.i18n.getLocalization("aipo","locale");if(b.form.is_new_post.value=="TRUE"||b.form.is_new_post.value=="true"){b.value=a.NEW_INPUT_STR;aipo.account_user.formPostInputOff(b.form)}else{b.value=a.SELECT_FROM_LIST_STR;aipo.account_user.formPostInputOn(b.form)}};aipo.account_user.formPostInputOn=function(a){dojo.byId("postSelectField").style.display="none";dojo.byId("postInputField").style.display="";a.is_new_post.value="TRUE"};aipo.account_user.formPostInputOff=function(a){dojo.byId("postInputField").style.display="none";dojo.byId("postSelectField").style.display="";a.is_new_post.value="FALSE"};aipo.account_user.formSwitchPositionInput=function(b){var a=dojo.i18n.getLocalization("aipo","locale");if(b.form.is_new_position.value=="TRUE"||b.form.is_new_position.value=="true"){b.value=a.NEW_INPUT_STR;aipo.account_user.formPositionInputOff(b.form)}else{b.value=a.SELECT_FROM_LIST_STR;aipo.account_user.formPositionInputOn(b.form)}};aipo.account_user.formPositionInputOn=function(a){dojo.byId("positionSelectField").style.display="none";dojo.byId("positionInputField").style.display="";a.is_new_position.value="TRUE"};aipo.account_user.formPositionInputOff=function(a){dojo.byId("positionInputField").style.display="none";dojo.byId("positionSelectField").style.display="";a.is_new_position.value="FALSE"};aipo.account_user.formAdminToggle=function(a){dojo.byId("is_admin").value=a.checked?"true":"false"};aipo.account_user.onReceiveMessage=function(c){var a=dojo.byId("attachments_select");if(typeof a!="undefined"&&a!=null){a.parentNode.removeChild(a)}if(!c){var b=dijit.byId("modalDialog");if(b){b.hide()}aipo.portletReload("account_user")}if(dojo.byId("messageDiv")){dojo.byId("messageDiv").innerHTML=c}};aipo.account_user.onListReceiveMessage=function(b){if(!b){var a=dijit.byId("modalDialog");if(a){a.hide()}aipo.portletReload("account_user")}if(dojo.byId("listMessageDiv")){dojo.byId("listMessageDiv").innerHTML=b}};aipo.account_user.submit2=function(c){var a=c.member_so.options;var b="";for(i=0;i<a.length;i++){a[i].selected=false}if(a.length>0){for(i=0;i<a.length-1;i++){b=b+a[i].value+","}b=b+a[a.length-1].value}c.positions.value=b};aipo.account_user.toggleMenu=function(f,d,b){var e=d.getBoundingClientRect();var c=document.documentElement.getBoundingClientRect();var h=document.getElementById("auiWidgetsArea");var g=document.getElementById("mobileHeader_v3");if(f.style.display=="none"){dojo.query("div.menubar").style("display","none");var a={left:document.documentElement.scrollLeft||document.body.scrollLeft,top:document.documentElement.scrollTop||document.body.scrollTop};f.style.opacity="0";setTimeout(function(){dojo.style(f,"display","block")},0);if(c.right-f.clientWidth>e.left){f.style.left=e.left+a.left+"px"}else{f.style.left=e.right-f.clientWidth+a.left+"px"}if(c.bottom-f.clientHeight>e.bottom||b){f.style.top=e.bottom+a.top+"px"}else{f.style.top=e.top-f.clientHeight+a.top+"px"}f.style.opacity=""}else{dojo.query("div.menubar").style("display","none")}};aipo.account_user.onChangePost=function(b,c,a){aipo.viewPage(b,c)};aipo.account_user.onChangeRole=function(a,c,b){aipo.viewPage(a,c)};aipo.account_user.downloadCsv=function(a){window.location.href=a};